{% extends "base.html" %}
{% block content %}

<style>
  .appointments-title {
    font-weight: 800;
    color: #0077cc;
    margin-bottom: 20px;
  }

  .appointment-form-box {
    background: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    max-width: 600px;
    margin-bottom: 30px;
  }

  .form-label {
    font-weight: 600;
  }

  .appointment-list {
    list-style: none;
    padding: 0;
  }

  .appointment-list li {
    background: #f5f7f9;
    padding: 12px 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    border-left: 4px solid #0077cc;
    font-size: 1rem;
  }

  .appointment-list li span {
    font-weight: 600;
  }
</style>

<h2 class="appointments-title">Manage Appointments</h2>

<div class="appointment-form-box">
  <form method="post">
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.patient_id.label(class="form-label") }}
      {{ form.patient_id(class="form-select") }}
    </div>

    <div class="mb-3">
      {{ form.doctor_id.label(class="form-label") }}
      {{ form.doctor_id(class="form-select") }}
    </div>

    <div class="mb-3">
      {{ form.date.label(class="form-label") }}
      {{ form.date(class="form-control") }}
    </div>

    <div class="mb-3">
      {{ form.reason.label(class="form-label") }}
      {{ form.reason(class="form-control") }}
    </div>

    <div class="d-grid">
      {{ form.submit(class="btn btn-primary btn-block") }}
    </div>
  </form>
</div>

<hr>

<h4>All Appointments</h4>
<ul class="appointment-list">
  {% for a in appointments %}
    <li>
      <span>{{ a.date }}</span> â€” {{ a.patient.name }} with Dr. {{ a.doctor.name }}
    </li>
  {% else %}
    <li>No appointments.</li>
  {% endfor %}
</ul>

{% endblock %}
